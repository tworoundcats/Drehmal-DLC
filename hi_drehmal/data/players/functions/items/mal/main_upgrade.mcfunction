scoreboard players reset @s mal_cd
execute as @s[tag=!upgraded] at @s run summon minecraft:interaction ~ ~ ~ {Tags:["swing_marker"],width:1.3,height:2.4}
execute store result score #mal_temp temp run attribute @s[tag=!upgraded] minecraft:generic.attack_speed get 100

execute as @s[tag=!upgraded] if score #mal_temp temp matches -200..-190 run attribute @s minecraft:generic.attack_speed base set 6.8
execute as @s[tag=!upgraded] if score #mal_temp temp matches -190..-180 run attribute @s minecraft:generic.attack_speed base set 6.7
execute as @s[tag=!upgraded] if score #mal_temp temp matches -180..-170 run attribute @s minecraft:generic.attack_speed base set 6.6
execute as @s[tag=!upgraded] if score #mal_temp temp matches -170..-160 run attribute @s minecraft:generic.attack_speed base set 6.5
execute as @s[tag=!upgraded] if score #mal_temp temp matches -160..-150 run attribute @s minecraft:generic.attack_speed base set 6.4
execute as @s[tag=!upgraded] if score #mal_temp temp matches -150..-140 run attribute @s minecraft:generic.attack_speed base set 6.3
execute as @s[tag=!upgraded] if score #mal_temp temp matches -140..-130 run attribute @s minecraft:generic.attack_speed base set 6.2
execute as @s[tag=!upgraded] if score #mal_temp temp matches -130..-120 run attribute @s minecraft:generic.attack_speed base set 6.1
execute as @s[tag=!upgraded] if score #mal_temp temp matches -120..-110 run attribute @s minecraft:generic.attack_speed base set 6.0
execute as @s[tag=!upgraded] if score #mal_temp temp matches -110..-100 run attribute @s minecraft:generic.attack_speed base set 5.9
execute as @s[tag=!upgraded] if score #mal_temp temp matches -100..-90 run attribute @s minecraft:generic.attack_speed base set 5.8
execute as @s[tag=!upgraded] if score #mal_temp temp matches -90..-80 run attribute @s minecraft:generic.attack_speed base set 5.7
execute as @s[tag=!upgraded] if score #mal_temp temp matches -80..-70 run attribute @s minecraft:generic.attack_speed base set 5.6
execute as @s[tag=!upgraded] if score #mal_temp temp matches -70..-60 run attribute @s minecraft:generic.attack_speed base set 5.5
execute as @s[tag=!upgraded] if score #mal_temp temp matches -60..-50 run attribute @s minecraft:generic.attack_speed base set 5.4
execute as @s[tag=!upgraded] if score #mal_temp temp matches -50..-40 run attribute @s minecraft:generic.attack_speed base set 5.3
execute as @s[tag=!upgraded] if score #mal_temp temp matches -40..-30 run attribute @s minecraft:generic.attack_speed base set 5.2
execute as @s[tag=!upgraded] if score #mal_temp temp matches -30..-20 run attribute @s minecraft:generic.attack_speed base set 5.1
execute as @s[tag=!upgraded] if score #mal_temp temp matches -20..-10 run attribute @s minecraft:generic.attack_speed base set 5.0
execute as @s[tag=!upgraded] if score #mal_temp temp matches -10..0 run attribute @s minecraft:generic.attack_speed base set 4.9
execute as @s[tag=!upgraded] if score #mal_temp temp matches 0..10 run attribute @s minecraft:generic.attack_speed base set 4.8
execute as @s[tag=!upgraded] if score #mal_temp temp matches 10..20 run attribute @s minecraft:generic.attack_speed base set 4.7
execute as @s[tag=!upgraded] if score #mal_temp temp matches 20..30 run attribute @s minecraft:generic.attack_speed base set 4.6
execute as @s[tag=!upgraded] if score #mal_temp temp matches 30..40 run attribute @s minecraft:generic.attack_speed base set 4.5
execute as @s[tag=!upgraded] if score #mal_temp temp matches 40..50 run attribute @s minecraft:generic.attack_speed base set 4.4
execute as @s[tag=!upgraded] if score #mal_temp temp matches 50..60 run attribute @s minecraft:generic.attack_speed base set 4.3
execute as @s[tag=!upgraded] if score #mal_temp temp matches 60..70 run attribute @s minecraft:generic.attack_speed base set 4.2
execute as @s[tag=!upgraded] if score #mal_temp temp matches 70..80 run attribute @s minecraft:generic.attack_speed base set 4.1
execute as @s[tag=!upgraded] if score #mal_temp temp matches 80..90 run attribute @s minecraft:generic.attack_speed base set 4.0
execute as @s[tag=!upgraded] if score #mal_temp temp matches 90..100 run attribute @s minecraft:generic.attack_speed base set 3.9
execute as @s[tag=!upgraded] if score #mal_temp temp matches 100..110 run attribute @s minecraft:generic.attack_speed base set 3.8
execute as @s[tag=!upgraded] if score #mal_temp temp matches 110..120 run attribute @s minecraft:generic.attack_speed base set 3.7
execute as @s[tag=!upgraded] if score #mal_temp temp matches 120..130 run attribute @s minecraft:generic.attack_speed base set 3.6
execute as @s[tag=!upgraded] if score #mal_temp temp matches 130..140 run attribute @s minecraft:generic.attack_speed base set 3.5
execute as @s[tag=!upgraded] if score #mal_temp temp matches 140..150 run attribute @s minecraft:generic.attack_speed base set 3.4
execute as @s[tag=!upgraded] if score #mal_temp temp matches 150..160 run attribute @s minecraft:generic.attack_speed base set 3.3
execute as @s[tag=!upgraded] if score #mal_temp temp matches 160..170 run attribute @s minecraft:generic.attack_speed base set 3.2
execute as @s[tag=!upgraded] if score #mal_temp temp matches 170..180 run attribute @s minecraft:generic.attack_speed base set 3.1
execute as @s[tag=!upgraded] if score #mal_temp temp matches 180..190 run attribute @s minecraft:generic.attack_speed base set 3.0
execute as @s[tag=!upgraded] if score #mal_temp temp matches 190..200 run attribute @s minecraft:generic.attack_speed base set 2.9
execute as @s[tag=!upgraded] if score #mal_temp temp matches 200..210 run attribute @s minecraft:generic.attack_speed base set 2.8
execute as @s[tag=!upgraded] if score #mal_temp temp matches 210..220 run attribute @s minecraft:generic.attack_speed base set 2.7
execute as @s[tag=!upgraded] if score #mal_temp temp matches 220..230 run attribute @s minecraft:generic.attack_speed base set 2.6
execute as @s[tag=!upgraded] if score #mal_temp temp matches 230..240 run attribute @s minecraft:generic.attack_speed base set 2.5
execute as @s[tag=!upgraded] if score #mal_temp temp matches 240..250 run attribute @s minecraft:generic.attack_speed base set 2.4
execute as @s[tag=!upgraded] if score #mal_temp temp matches 250..260 run attribute @s minecraft:generic.attack_speed base set 2.3
execute as @s[tag=!upgraded] if score #mal_temp temp matches 260..270 run attribute @s minecraft:generic.attack_speed base set 2.2
execute as @s[tag=!upgraded] if score #mal_temp temp matches 270..280 run attribute @s minecraft:generic.attack_speed base set 2.1
execute as @s[tag=!upgraded] if score #mal_temp temp matches 280..290 run attribute @s minecraft:generic.attack_speed base set 2.0
execute as @s[tag=!upgraded] if score #mal_temp temp matches 290..300 run attribute @s minecraft:generic.attack_speed base set 1.9
execute as @s[tag=!upgraded] if score #mal_temp temp matches 300..310 run attribute @s minecraft:generic.attack_speed base set 1.8
execute as @s[tag=!upgraded] if score #mal_temp temp matches 310..320 run attribute @s minecraft:generic.attack_speed base set 1.7
execute as @s[tag=!upgraded] if score #mal_temp temp matches 320..330 run attribute @s minecraft:generic.attack_speed base set 1.6
execute as @s[tag=!upgraded] if score #mal_temp temp matches 330..340 run attribute @s minecraft:generic.attack_speed base set 1.5
execute as @s[tag=!upgraded] if score #mal_temp temp matches 340..350 run attribute @s minecraft:generic.attack_speed base set 1.4
execute as @s[tag=!upgraded] if score #mal_temp temp matches 350..360 run attribute @s minecraft:generic.attack_speed base set 1.3
execute as @s[tag=!upgraded] if score #mal_temp temp matches 360..370 run attribute @s minecraft:generic.attack_speed base set 1.2
execute as @s[tag=!upgraded] if score #mal_temp temp matches 370..380 run attribute @s minecraft:generic.attack_speed base set 1.1
execute as @s[tag=!upgraded] if score #mal_temp temp matches 380..390 run attribute @s minecraft:generic.attack_speed base set 1.0
execute as @s[tag=!upgraded] if score #mal_temp temp matches 390..400 run attribute @s minecraft:generic.attack_speed base set 0.9
execute as @s[tag=!upgraded] if score #mal_temp temp matches 400..410 run attribute @s minecraft:generic.attack_speed base set 0.8
execute as @s[tag=!upgraded] if score #mal_temp temp matches 410..420 run attribute @s minecraft:generic.attack_speed base set 0.7
execute as @s[tag=!upgraded] if score #mal_temp temp matches 420..430 run attribute @s minecraft:generic.attack_speed base set 0.6
execute as @s[tag=!upgraded] if score #mal_temp temp matches 430..440 run attribute @s minecraft:generic.attack_speed base set 0.5
execute as @s[tag=!upgraded] if score #mal_temp temp matches 440..450 run attribute @s minecraft:generic.attack_speed base set 0.4
execute as @s[tag=!upgraded] if score #mal_temp temp matches 450..460 run attribute @s minecraft:generic.attack_speed base set 0.3
execute as @s[tag=!upgraded] if score #mal_temp temp matches 460..470 run attribute @s minecraft:generic.attack_speed base set 0.2
execute as @s[tag=!upgraded] if score #mal_temp temp matches 470..480 run attribute @s minecraft:generic.attack_speed base set 0.1
execute as @s[tag=!upgraded] if score #mal_temp temp matches 480..490 run attribute @s minecraft:generic.attack_speed base set 0.0
execute as @s[tag=!upgraded] if score #mal_temp temp matches 490..500 run attribute @s minecraft:generic.attack_speed base set -0.1
execute as @s[tag=!upgraded] if score #mal_temp temp matches 500..510 run attribute @s minecraft:generic.attack_speed base set -0.2
execute as @s[tag=!upgraded] if score #mal_temp temp matches 510..520 run attribute @s minecraft:generic.attack_speed base set -0.3
execute as @s[tag=!upgraded] if score #mal_temp temp matches 520..530 run attribute @s minecraft:generic.attack_speed base set -0.4
execute as @s[tag=!upgraded] if score #mal_temp temp matches 530..540 run attribute @s minecraft:generic.attack_speed base set -0.5
execute as @s[tag=!upgraded] if score #mal_temp temp matches 540..550 run attribute @s minecraft:generic.attack_speed base set -0.6
execute as @s[tag=!upgraded] if score #mal_temp temp matches 550..560 run attribute @s minecraft:generic.attack_speed base set -0.7
execute as @s[tag=!upgraded] if score #mal_temp temp matches 560..570 run attribute @s minecraft:generic.attack_speed base set -0.8
execute as @s[tag=!upgraded] if score #mal_temp temp matches 570..580 run attribute @s minecraft:generic.attack_speed base set -0.9
execute as @s[tag=!upgraded] if score #mal_temp temp matches 580..590 run attribute @s minecraft:generic.attack_speed base set -1.0
execute as @s[tag=!upgraded] if score #mal_temp temp matches 590..600 run attribute @s minecraft:generic.attack_speed base set -1.1
execute as @s[tag=!upgraded] if score #mal_temp temp matches 600..610 run attribute @s minecraft:generic.attack_speed base set -1.2

tag @s add upgraded