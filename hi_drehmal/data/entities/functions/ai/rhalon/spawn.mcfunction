summon minecraft:piglin_brute ~ ~ ~ {DeathLootTable:"entities:rhalon", DeathTime: 0s, IsImmuneToZombification: 1b, "pehkui:scale_data_types": {"pehkui:falling": {target: 1.26217745E-29f, initial: 1.26217745E-29f, scale: 1.26217745E-29f}}, LeftHanded: 0b, OnGround: 1b, AbsorptionAmount: 0.0f, Attributes: [{Name: "additionalentityattributes:generic.lung_capacity", Base: 0.0d}, {Name: "minecraft:generic.attack_damage", Base: -3.0d}, {Name: "stepheightentityattribute:stepheight", Base: 0.0d}, {Name: "minecraft:generic.follow_range", Base: 2048.0d}, {Name: "minecraft:generic.armor", Base: 0.0d}, {Name: "minecraft:generic.armor_toughness", Base: 0.0d}, {Name: "minecraft:generic.knockback_resistance", Base: 0.0d}, {Name: "additionalentityattributes:generic.jump_height", Base: 0.0d}, {Name: "minecraft:generic.max_health", Base: 300.0d}, {Name: "minecraft:generic.movement_speed", Base: 0.4d}], Invulnerable: 0b, Brain: {memories: {}}, ActiveEffects: [{ShowIcon: 0b, ShowParticles: 0b, Id: 12, Duration: -1, Ambient: 0b, Amplifier: 0b}], HandDropChances: [0.0f, 0.0f], ArmorDropChances: [0.0f, 0.0f, 0f, 0f], Rotation: [315.00052f, 5.8527365f], HurtByTimestamp: 0, CustomName: '{"text":"Rhalon, the First General"}', cardinal_components: {"enchancement:frozen": {ForcedHeadYaw: 0.0f, TicksFrozen: 0, ForcedBodyYaw: 0.0f, ForcedPose: "STANDING", ForcedClientAge: 0, ForcedLimbAngle: 0.0f, ForcedPitch: 0.0f, Frozen: 0b, ForcedLimbDistance: 0.0f}, "eldritch_mobs:eldritch_modifiers": {numMaxAbilities: 0, checkedIfSpawnedInSoothingLanternChunk: 1b, titleSet: 0b, healthIncreased: 0b, abilities: {}}, "enchancement:projectile_timer": {ResetTicks: 0, TimesHit: 0}, "enchancement:air_mobility": {ResetBypassTicks: 0, TicksInAir: 0}, "enchancement:extended_water": {TicksWet: 0}, "mythicmetals:combustion_cooldown": {cooldown: 0}, "trinkets:trinkets": {hand: {glove: {Items: [{id: "minecraft:air", Count: 0b}], Metadata: {}}}, head: {hat: {Items: [{id: "minecraft:air", Count: 0b}], Metadata: {}}}, feet: {shoes: {Items: [{id: "minecraft:air", Count: 0b}], Metadata: {}}}, legs: {belt: {Items: [{id: "minecraft:air", Count: 0b}], Metadata: {}}}, chest: {necklace: {Items: [{id: "minecraft:air", Count: 0b}], Metadata: {}}}}}, TimeInOverworld: 0, ArmorItems: [{id: "minecraft:iron_boots", tag: {display: {Name: '{"italic":false,"extra":[{"text":""},{"text":"nameuwontguess18"}],"text":""}'}, Unbreakable: 1b, Damage: 0, AttributeModifiers: [{Amount: 3.0d, Operation: 0, Name: "minecraft:generic.armor", UUID: [I; 933936914, -251705522, -1534610672, -1332265192], AttributeName: "minecraft:generic.armor", Slot: "feet"}]}, Count: 1b}, {id: "minecraft:iron_leggings", tag: {display: {Name: '{"italic":false,"extra":[{"text":""},{"text":"nameuwontguess18"}],"text":""}'}, Unbreakable: 1b, Damage: 0, AttributeModifiers: [{Amount: 6.0d, Operation: 0, Name: "minecraft:generic.armor", UUID: [I; -1592866398, 1215646157, -1177885688, -236968614], AttributeName: "minecraft:generic.armor", Slot: "legs"}]}, Count: 1b}, {id: "minecraft:diamond_chestplate", tag: {display: {Name: '["",{"text":"Rhalon\'s Chestplate","italic":false,"color":"aqua","underlined":true}]', Lore: ['{"extra":[{"italic":true,"color":"dark_purple","text":"Chestplate worn by Rhalon, greatest"}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"warrior of the Burnt God\'s forces."}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"This armor has seen many battles."}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"May it see many more."}],"text":""}', '{"extra":[{"italic":false,"color":"dark_purple","text":" "}],"text":""}', '{"extra":[{"italic":false,"color":"gray","text":"When on body:"}],"text":""}', '{"extra":[{"italic":false,"color":"blue","text":"+8 Armor"}],"text":""}', '{"extra":[{"italic":false,"color":"blue","text":"+2 Armor Toughness"}],"text":""}', '{"extra":[{"italic":false,"color":"blue","text":"+3 Attack Damage"}],"text":""}', '{"extra":[{"italic":false,"color":"blue","text":"-4 Max Health"}],"text":""}', '{"extra":[{"italic":false,"color":"dark_purple","text":" "}],"text":""}', '{"extra":[{"italic":false,"color":"aqua","text":"Artifact"}],"text":""}']}, Enchantments: [{id: "minecraft:fire_protection", lvl: 4}], HideFlags: 2, Damage: 0, AttributeModifiers: [{Amount: 8, Name: "generic.armor", UUID: [I; -125518, 16269, 18579, -32538], AttributeName: "generic.armor", Slot: "chest"}, {Amount: 2, Name: "generic.armor_toughness", UUID: [I; -125518, 16569, 18579, -33138], AttributeName: "generic.armor_toughness", Slot: "chest"}, {Amount: -4, Name: "1750137098447", UUID: [I; -125518, 16869, 18579, -33738], AttributeName: "generic.max_health", Slot: "chest"}, {Amount: 3, Name: "1750137098447", UUID: [I; -125518, 17169, 18579, -34338], AttributeName: "generic.attack_damage", Slot: "chest"}]}, Count: 1b}, {id: "minecraft:player_head", tag: {SkullOwner: {Id: [I; -1662615657, 1234258414, -1952748472, 534218152], Properties: {textures: [{Value: "eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvODQ1MDA3ZGZkMzE5YWY5YmMxN2NkNDUxOTQ2ZGFlMDhkZjU2OTZiN2NiZGQ1OGMwY2UyMjFmMmIyNjliYTk5NiJ9fX0="}]}}, display: {Name: '{"text":"Helmet of the First General","color":"red","italic":false}'}, Enchantments: [{id: "minecraft:protection", lvl: 4s}]}, Count: 1b}], Tags: ["rhalon_entity", "rhalon","vt_immune","hovad.immune","obv.immune"], HandItems: [{id: "mcdw:soul_dagger_truthseeker", tag: {Enchantments: [{id: "knockback", lvl: 2}], HideFlags: 38, Damage: 0, AttributeModifiers: [{Amount: 22, Slot: "mainhand", UUID: [I; -125517, 20472, 12352, -40944], AttributeName: "generic.attack_damage", Name: "1750134455293"}, {Amount: -2.6d, Slot: "mainhand", UUID: [I; -125517, 20772, 12352, -41544], AttributeName: "generic.attack_speed", Name: "1750137984301"}]}, Count: 1b}, {id: "minecraft:shield", tag: {Damage: 0, BlockEntityTag: {Base: 15, Patterns: [{Pattern: "sc", Color: 14}, {Pattern: "flo", Color: 14}, {Pattern: "bo", Color: 14}], id: "minecraft:banner"}}, Count: 1b}], Air: 300s, FallDistance: 0.0f, Motion: [0.04800315551997764d, -0.0784000015258789d, 0.048003155513649004d], Fire: -1s, CanPickUpLoot: 0b, Health: 296.0f, HurtTime: 0s, FallFlying: 0b, PersistenceRequired: 1b, PortalCooldown: 0}
tp @e[tag=rhalon_intro] ~ ~-100 ~
schedule function entities:bosses/generals/rhalon_intro_kill 1s

execute unless score #low_particles? bool matches 1 run particle minecraft:flame ~ ~ ~ 0 0 0 0.5 300
execute unless score #low_particles? bool matches 1 run particle minecraft:large_smoke ~ ~ ~ 0 0 0 0.2 100
execute unless score #low_particles? bool matches 1 run particle minecraft:flash ~ ~ ~ 0 0 0 0 1
playsound minecraft:dcustom.entity.illusioner.prepare_blindness ambient @a ~ ~ ~ 3 0.6
playsound minecraft:dcustom.entity.zombie_villager.cure ambient @a ~ ~ ~ 2 0.8

execute unless score #tevus_active bool matches 1 unless score #ethgar_active bool matches 1 run tellraw @a[predicate=players:in_generals_arena] ["",{"text":"["},{"text":"Rhalon, the First General","color":"dark_red"},{"text":"]"},{"text":" YOU WILL DIE TODAY, REMNANT OF AVSOHM! RAAAAGH!"}]
scoreboard players set #rhalon_active bool 1

execute if score #swap temp matches 2 run tellraw @a[predicate=players:in_generals_arena] ["",{"text":"["},{"text":"Rhalon, the First General","color":"dark_red"},{"text":"]"},{"text":" GLORY IN FLAME!"}]

execute if score #swap temp matches 3 run tellraw @a[predicate=players:in_generals_arena] ["",{"text":"["},{"text":"Rhalon, the First General","color":"dark_red"},{"text":"]"},{"text":" YOU FACE THE SECOND FALL OF AVSOHM!!!"}]


bossbar set health name {"text":"Rhalon, the First General","obfuscated":false,"color":"white"}
bossbar set health visible true

execute store result score #rhalon_swap temp run attribute @e[tag=rhalon,limit=1] minecraft:generic.max_health get

scoreboard players operation #rhalon_swap temp *= #60 const

scoreboard players operation #rhalon_swap temp /= #100 const


execute store result score #rhalon_swap2 temp run attribute @e[tag=rhalon,limit=1] minecraft:generic.max_health get

scoreboard players operation #rhalon_swap2 temp *= #30 const

scoreboard players operation #rhalon_swap2 temp /= #100 const


execute store result score #rhalon_swap3 temp run attribute @e[tag=rhalon,limit=1] minecraft:generic.max_health get

scoreboard players operation #rhalon_swap3 temp *= #20 const

scoreboard players operation #rhalon_swap3 temp /= #100 const

scoreboard players set #rhalon_active bool 1
