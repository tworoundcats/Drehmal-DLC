execute positioned ~ ~ ~ as @p[tag=qst] at @s run tellraw @s ["",{"text":"Quest Completed:","color":"yellow"},{"text":" "},{"text":"Stablemaster's Struggle","underlined":true},{"text":"\n"},{"text":"Return the Missing Horse","italic":true,"color":"gray"}]
execute positioned ~ ~ ~ as @p[tag=qst] at @s run playsound minecraft:entity.player.levelup player @s ~ ~ ~ 1 2
execute positioned ~ ~ ~ as @p[tag=qst] at @s run particle minecraft:happy_villager ~ ~1 ~ 0.5 0.5 0.5 0 40
execute positioned ~ ~ ~ as @p[tag=qst] at @s run playsound minecraft:ui.toast.challenge_complete player @s ~ ~ ~ 1 1
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~1 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~1 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~1 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~1 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~1 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~1 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~1 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~1 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon experience_orb ~ ~ ~2 {Value:7}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run summon firework_rocket ~ ~2 ~ {LifeTime:30,FireworksItem:{id:firework_rocket,Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0b,Trail:0b,Colors:[I;15790320],FadeColors:[I;15790320]}]}}}}
execute positioned ~ ~ ~ as @p[tag=qst] run advancement grant @s only dlc:safe

execute positioned ~ ~ ~ as @p[tag=qst] at @s run give @s emerald 4
execute positioned ~ ~ ~ as @p[tag=qst] at @s run give @s mythicmetals:hallowed_boots{AttributeModifiers:[{Amount:0.15d,AttributeName:"generic.movement_speed",Name:"generic.movement_speed",Operation:1,Slot:"feet",UUID:[I;-124321,19574,72315,-39148]}],Damage:0,HideFlags:70,Unbreakable:1b,display:{Lore:['{"extra":[{"italic":true,"color":"dark_purple","text":"Sturdy and reliable. These expertly"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"crafted boots conform familiarly"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"to any terrain in the realm,"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"as if their creator strode"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"beside the Realmbinder themselves"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"during the world\'s reforging."}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":" "}],"text":""}','{"extra":[{"italic":false,"color":"gray","text":"When on feet:"}],"text":""}','{"extra":[{"italic":false,"color":"blue","text":"+0.015 Speed"}],"text":""}','{"extra":[{"italic":false,"color":"blue","text":"Unbreakable"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":" "}],"text":""}','{"extra":[{"italic":false,"color":"dark_aqua","text":"Quest Reward"}],"text":""}'],Name:'{"extra":[{"italic":false,"color":"dark_aqua","text":"Well-Worn Boots"}],"underlined":true,"text":""}',color:16383998}}
execute positioned ~ ~ ~ as @p[tag=qst] at @s run give @s dlc:silver_ingot{display:{Lore:['{"extra":[{"italic":true,"color":"dark_purple","text":"The merchants of Drehmal like a"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"sack of scales as much as any"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"other, but for special equipment,"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"silver is the currency of choice."}],"text":""}','{"text":""}'],Name:'{"extra":[{"italic":false,"underlined":true,"color":"aqua","text":"Silver Ingot"}],"text":""}'}} 1
execute positioned ~ ~ ~ as @p[tag=qst] at @s run tag @s add qst_e
execute positioned ~ ~ ~ as @p[tag=qst] at @s run tag @s remove qst
execute positioned 505.51 67.00 1835.52 as @e[name="Stablemaster Keehko",type=villager] run tag @s remove tempd

execute unless score #quest1 bool matches 1 run scoreboard players add #quest num 1
execute unless score #quest12 bool matches 1 run scoreboard players add #quest num 1
execute if score #quest num matches 17 run advancement grant @a only dlc:questmaster
execute as @a run function weapons:grant

scoreboard players set #quest1 bool 1