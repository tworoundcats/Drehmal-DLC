# i was gonna do a more complex system for this but we don't have time
function core:rng
execute if score #gotprox bool matches 1 if score #gotAvKohl bool matches 1 run scoreboard players operation #rand temp %= #6 const
execute unless score #gotprox bool matches 1 if score #gotAvKohl bool matches 1 run scoreboard players operation #rand temp %= #5 const
execute if score #gotprox bool matches 1 unless score #gotAvKohl bool matches 1 run scoreboard players operation #rand temp %= #6 const
execute unless score #gotAvKohl bool matches 1 if score #rand temp matches 4 run scoreboard players remove #rand temp 1
execute unless score #gotprox bool matches 1 unless score #gotAvKohl bool matches 1 run scoreboard players operation #rand temp %= #4 const



# maelruhn king/toamm lore book
execute if score #rand temp matches 0 run data modify entity @s Offers.Recipes insert 0 value {maxUses:2147483647,buy:{id:"dlc:starfall_mote",Count:2,tag:{display:{Lore:['{"extra":[{"italic":true,"color":"dark_purple","text":"A small amount of loose Starfall,"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"shining with the light of the"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"night sky."}],"text":""}'],Name:'{"extra":[{"italic":false,"underlined":true,"color":"aqua","text":"Starfall Mote"}],"text":""}'}}},sell:{id: "minecraft:written_book", tag: {RepairCost: 0, title: "", pages: ['{"text":"He\'ll come for me any second now. I have to get this down on paper and throw it away somewhere that he can\'t find it.\\n\\nI read the Parable. I know what happened in Karesh. It\'s all coming together. The depths. The sky. If they represent who I think they do... there can"}', '{"text":"only be one answer. One being to rule them all. The true King of Nothing. The Maelruhn King.\\n\\nHe must have ascended after. It\'s the only way the timeline makes sense. The necromancer. The tree. The Maelruhn King. The gods at war. A new one, birthed."}', '{"text":"And the larger worm! It has to be connected to the other tree... the tree that birthed the Ever-Chant! That damned tree. That blight given life. Dark oak. Spruce. Every part of it makes me sick. I ought to smack the Life-Giver upside her head. Twenty-three flowers."}', '{"text":"TWENTY-THREE! But they AREN\'T ALL THE SAME! I KNOW IT! The flower at the bottom! In its center! Its roots... the roots of the Tree! Nestled inside! Oh, the burden of knowledge... Lahrs, you devil. You\'re in it with HIM, aren\'t you!? You can\'t trust a god of MUSHROOMS! What\'s next, Aspect of Fern?"}', '{"text":"Oh, and don\'t even get me started on that bite-sized mountain dragon. I\'d STEP on it for its INSOLENCE, if I didn\'t KNOW BETTER! Because it would HURT! It\'s HARD! ...Probably.\\n\\nI... I can\'t. I can\'t do this. I\'m casting this whole notepad into the ocean. Then I\'ll wait. For Him."}'], display: {Name: '{"extra":[{"italic":false,"underlined":true,"color":"white","text":"Insane Ramblings"}],"text":""}', Lore: ['{"extra":[{"italic":true,"color":"dark_purple","text":"The ramblings of a true madman, driven"}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"to a state of utter delusion by his own"}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"obsession. Its contents are not to be"}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"taken seriously, but I do find them quite"}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"amusing!"}],"text":""}']}, author: "", resolved: 1b}, Count: 1}}

# dreams of the burnt lore book
execute if score #rand temp matches 1 run data modify entity @s Offers.Recipes insert 0 value {maxUses:2147483647,buy:{id:"dlc:starfall_mote",Count:2,tag:{display:{Lore:['{"extra":[{"italic":true,"color":"dark_purple","text":"A small amount of loose Starfall,"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"shining with the light of the"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"night sky."}],"text":""}'],Name:'{"extra":[{"italic":false,"underlined":true,"color":"aqua","text":"Starfall Mote"}],"text":""}'}}},sell:{id: "minecraft:written_book", tag:{RepairCost:0,author:"",display:{Name:'{"extra":[{"italic":false,"underlined":true,"color":"white","text":"The Reluctant Dreamer"}],"text":""}'},pages:['{"text":"Maelihs dreams every night. I\'m sure of it. I do not often find much of interest with him—the brute—but his veritable fear of resting his head at night does, admittedly, fascinate me. In the day, it\'s always just been kill, torture, scheme. Until recently, of course, when it\'s gotten even MORE "}','{"text":"miserable! Pathetic, even. \\n\\nEvery now and then, he\'d approach a complex thought. Flirt with an emotion besides anger. Consider a new strategy. But that look on his face at night, as he gives in to sleep? Priceless."}','{"text":"THAT\'S worth cataloguing.\\n\\nOne can only speculate as to what the Burnt Lord sees when his eyes finally close. My guess is surely as good as anyone\'s, but... it\'s not exactly hard to piece together."}','{"text":"But, alas. More important matters clamor for my attention. Perhaps I\'ll revisit this... pet project another time."}'],resolved:1b,title:""}, Count: 1}}


# arbalest of az'radul
execute if score #rand temp matches 2 run data modify entity @s Offers.Recipes insert 0 value {maxUses:2147483647,buy:{id:"dlc:starfall_mote",Count:2,tag:{display:{Lore:['{"extra":[{"italic":true,"color":"dark_purple","text":"A small amount of loose Starfall,"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"shining with the light of the"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"night sky."}],"text":""}'],Name:'{"extra":[{"italic":false,"underlined":true,"color":"aqua","text":"Starfall Mote"}],"text":""}'}}},sell:{id: "minecraft:crossbow",Count:1, tag:{AttributeModifiers:[{Amount:0.035d,AttributeName:"minecraft:generic.movement_speed",Name:"minecraft:generic.movement_speed",Operation:1,Slot:"offhand",UUID:[I;-917049983,-1004059393,-1592169428,1383385392]}],Damage:0,Enchantments:[{id:"minecraft:piercing",lvl:10s},{id:"minecraft:infinity",lvl:1s}],HideFlags:6,Unbreakable:1b,display:{Lore:['{"extra":[{"italic":true,"color":"dark_purple","text":"The royal citadel of Az\'Radul finished construction shortly"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"before the swarm. The Weeping One made her nest here,"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"furling her clipped wings and resting her weary, scabbed-over"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"stumps. As the people of the world below amount their last"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"defense against her children, they feel her horrible sobbing"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"quake the very earth around them. Perhaps, she chose this"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"roost to remind her of a forgotten home, a place to sleep above"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"the deep sea of stars. And when she dreams, if she dreams at "}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"all, it is of a gift for those that brought her torment."}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"A gift of rage. A gift of ruin."}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":" "}],"text":""}','{"extra":[{"italic":false,"color":"gray","text":"When in offhand:"}],"text":""}','{"extra":[{"italic":false,"color":"blue","text":"+35% Movement Speed"}],"text":""}','{"extra":[{"italic":false,"color":"blue","text":"Unbreakable"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":" "}],"text":""}','{"extra":[{"italic":false,"color":"aqua","text":"Artifact"}],"text":""}'],Name:'{"extra":[{"italic":false,"underlined":true,"color":"aqua","text":"Arbalest of Az\'Radul"}],"text":""}'}}}}

# dummy
execute if score #rand temp matches 3 run data modify entity @s Offers.Recipes insert 0 value {maxUses:2147483647,buy:{id:"dlc:starfall_mote",Count:2,tag:{display:{Lore:['{"extra":[{"italic":true,"color":"dark_purple","text":"A small amount of loose Starfall,"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"shining with the light of the"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"night sky."}],"text":""}'],Name:'{"extra":[{"italic":false,"underlined":true,"color":"aqua","text":"Starfall Mote"}],"text":""}'}}},buyB:{id: "dlc:silver_ingot",Count:2,tag:{display:{Lore:['{"extra":[{"italic":true,"color":"dark_purple","text":"The merchants of Drehmal like a"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"sack of scales as much as any"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"other, but for special equipment,"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"silver is the currency of choice."}],"text":""}','{"text":""}'],Name:'{"extra":[{"italic":false,"underlined":true,"color":"aqua","text":"Silver Ingot"}],"text":""}'}}},sell:{id:"dummmmmmy:target_dummy",Count:1,tag:{display:{Lore:['{"extra":[{"italic":true,"color":"dark_purple","text":"A simple but durable straw dummy used by blacksmiths"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"to test the sharpness of their new blades"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"without dulling them on stone."}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":" "}],"text":""}','{"extra":[{"italic":true,"color":"dark_gray","text":"Crouch and left click with an empty hand to break."}],"text":""}','{"extra":[{"italic":true,"color":"dark_gray","text":" "}],"text":""}','{"extra":[{"italic":false,"color":"green","text":"Trinket"}],"text":""}'],Name:'{"extra":[{"italic":false,"underlined":true,"color":"green","text":"Target Dummy"}],"text":""}'}}}}


# spark of purity
execute if score #gotAvKohl bool matches 1 if score #rand temp matches 4 run data modify entity @s Offers.Recipes insert 0 value {maxUses:2147483647,buy:{id:"dlc:olkahan",Count:2,tag:{Olkahan:1b,display: {Name: '{"extra":[{"italic":false,"underlined":true,"color":"light_purple","text":"Olkahan Ingot"}],"text":""}', Lore: ['{"extra":[{"italic":true,"color":"dark_purple","text":"An immensely rare metal only found"}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"on the underside of the Disc. In a "}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"post-rehntite era, it may be the single "}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"most sought-after mineral in the realm"}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"—for those who even know of its existence."}],"text":""}']}}},sell:{id:"dlc:spark_of_purity",Count:1,tag:{Spark:1b,display:{Lore:['{"extra":[{"italic":true,"color":"dark_purple","text":"A fragment of perfection derived from the order"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"within Nothing. "}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":" "}],"text":""}','{"extra":[{"italic":true,"color":"dark_gray","text":"Ascension is at hand."}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":" "}],"text":""}','{"extra":[{"italic":true,"obfuscated":true,"color":"dark_red","text":"?????"}],"text":""}'],Name:'{"extra":[{"italic":false,"underlined":true,"color":"dark_red","text":"Spark of Purity"}],"text":""}'}}}}

# serpents fin
execute if score #gotprox bool matches 1 if score #rand temp matches 5 run data modify entity @s Offers.Recipes insert 0 value {maxUses:2147483647,buy:{id:"dlc:olkahan",Count:2,tag:{Olkahan:1b,display: {Name: '{"extra":[{"italic":false,"underlined":true,"color":"light_purple","text":"Olkahan Ingot"}],"text":""}', Lore: ['{"extra":[{"italic":true,"color":"dark_purple","text":"An immensely rare metal only found"}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"on the underside of the Disc. In a "}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"post-rehntite era, it may be the single "}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"most sought-after mineral in the realm"}],"text":""}', '{"extra":[{"italic":true,"color":"dark_purple","text":"—for those who even know of its existence."}],"text":""}']}}},sell:{id:"dlc:serpent_fin",Count:1,tag:{HideFlags:32,Serpent:1b,display:{Lore:['{"extra":[{"italic":true,"color":"dark_purple","text":"A razor-sharp fin of the Vehrniis, broken off"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"in the battle. While designed to glide through"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":"water, it could cut through flesh just as easily."}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":" "}],"text":""}','{"extra":[{"italic":true,"color":"dark_gray","text":"Perhaps it could be crafted into a weapon?"}],"text":""}','{"extra":[{"italic":true,"color":"dark_purple","text":" "}],"text":""}','{"extra":[{"italic":false,"obfuscated":true,"color":"dark_red","text":"?????"}],"text":""}'],Name:'{"extra":[{"italic":false,"underlined":true,"color":"dark_red","text":"Serpent\'s Fin"}],"text":""}'}}}}